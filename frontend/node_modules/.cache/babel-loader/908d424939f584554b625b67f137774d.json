{"ast":null,"code":"var _jsxFileName = \"/home/alonsobc/Documents/juju/frontend/src/components/Cards/CarritoCard.js\";\nimport React, { useEffect, useState } from 'react';\nimport { API } from '../../config';\nimport { isAuthenticated, pullCarrito, readProducto } from '../../core/apiCore';\n\nfunction CarritoCard(_ref) {\n  let {\n    productoId,\n    stateChanger\n  } = _ref;\n  const [producto, setProducto] = useState([]);\n  const [error, setError] = useState(false);\n  const [total, setTotal] = useState(0);\n  const {\n    user,\n    token\n  } = isAuthenticated();\n\n  const loadProductos = () => {\n    readProducto(productoId.producto).then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProducto(data);\n      }\n    });\n  };\n\n  const setPTotal = () => {\n    // sumaTotal(total + (productoId.cantidad * producto.precio))\n    return total + productoId.cantidad * producto.precio;\n  };\n\n  const borrarDeCarrito = () => {\n    pullCarrito(user._id, token, productoId._id).then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        window.location.reload();\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadProductos();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container flex items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container flex bg-black rounded-xl h-52 items-center w-screen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"rounded h-5/6 m-2\",\n    src: `${API}/producto/photo/${productoId.producto}`,\n    alt: productoId.producto,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-xl font-poppins text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 25\n    }\n  }, \"Nombre:\"), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"font-bold text-xl font-poppins text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, producto.nombre)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-xl font-poppins text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }\n  }, \"Cantidad:\"), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"font-bold text-xl font-poppins text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }\n  }, \"X\", productoId.cantidad)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container w-1/3 flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"font-bold text-xl font-poppins text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }, \"Total: $\", setPTotal())), stateChanger(setPTotal)), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: borrarDeCarrito,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"h-12 w-12 m-4 text-red-600\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 000 2h6a1 1 0 100-2H7z\",\n    clipRule: \"evenodd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  })))));\n}\n\nexport default CarritoCard;","map":{"version":3,"sources":["/home/alonsobc/Documents/juju/frontend/src/components/Cards/CarritoCard.js"],"names":["React","useEffect","useState","API","isAuthenticated","pullCarrito","readProducto","CarritoCard","productoId","stateChanger","producto","setProducto","error","setError","total","setTotal","user","token","loadProductos","then","data","setPTotal","cantidad","precio","borrarDeCarrito","_id","window","location","reload","nombre"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { API } from '../../config';\nimport { isAuthenticated, pullCarrito, readProducto } from '../../core/apiCore';\n\nfunction CarritoCard({ productoId, stateChanger }) {\n    const [producto, setProducto] = useState([]);\n    const [error, setError] = useState(false);\n    const [total, setTotal] = useState(0);\n\n    const { user, token } = isAuthenticated();\n\n    const loadProductos = () => {\n        readProducto(productoId.producto).then(data => {\n            if (data.error) {\n                setError(data.error)\n            } else {\n                setProducto(data)\n\n            }\n        })\n    }\n    const setPTotal = () => {\n        // sumaTotal(total + (productoId.cantidad * producto.precio))\n        return total + (productoId.cantidad * producto.precio)\n    }\n    const borrarDeCarrito = () => {\n        pullCarrito(user._id, token, productoId._id).then(data => {\n            if (data.error) {\n                setError(data.error)\n            } else {\n                window.location.reload()\n            }\n        })\n\n    }\n    useEffect(() => {\n        loadProductos();\n\n    }, [])\n\n    return (\n        <>\n            <div className=\"container flex items-center\">\n\n                <div className='container flex bg-black rounded-xl h-52 items-center w-screen'>\n                    <img\n                        className='rounded h-5/6 m-2'\n                        src={`${API}/producto/photo/${productoId.producto}`}\n                        alt={productoId.producto} />\n                    <div className=\"container\">\n                        <h1 className=\"text-xl font-poppins text-white\">Nombre:</h1>\n                        <h1 className=\"font-bold text-xl font-poppins text-white\">{producto.nombre}</h1>\n                    </div>\n                    <div className=\"container\" >\n                        <h1 className=\"text-xl font-poppins text-white\">Cantidad:</h1>\n                        <h1 className=\"font-bold text-xl font-poppins text-white\">X{productoId.cantidad}</h1>\n                    </div>\n                    <div className=\"container w-1/3 flex\" >\n                        <h1 className=\"font-bold text-xl font-poppins text-white\">Total: ${setPTotal()}</h1>\n                    </div>\n                    {stateChanger(setPTotal)}\n\n\n\n                </div >\n                <button onClick={borrarDeCarrito} >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-12 w-12 m-4 text-red-600\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                        <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 000 2h6a1 1 0 100-2H7z\" clipRule=\"evenodd\" />\n                    </svg>\n                </button>\n            </div>\n        </>\n    )\n}\n\nexport default CarritoCard\n"]},"metadata":{},"sourceType":"module"}